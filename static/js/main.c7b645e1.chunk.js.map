{"version":3,"sources":["assets/naptar.png","App.js","index.js"],"names":["Calendar","className","src","calendar","alt","DaysOfWeek","Days","from","to","left","right","filter","Boolean","join","days","i","push","map","day","key","Day","React","useState","holding","setHolding","timeoutRef","useRef","originalY","ref","useEffect","now","Date","getDate","height","getShiftForFirst","getFullYear","getMonth","getDay","style","current","setAttribute","setTimeout","currentDayDiv","document","querySelector","Math","max","scrollIntoView","behavior","classList","add","onMouseMove","e","diff","clientY","onMouseDown","onMouseUp","window","clearTimeout","split","DayOfTheWeek","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"iLAAe,G,MAAA,IAA0B,oC,OCUzC,SAASA,IACP,OAAO,sBAAKC,UAAU,gBAAf,UACL,qBAAKC,IAAKC,EAAUC,IAAI,aACxB,qBAAKH,UAAU,QACf,cAACI,EAAD,IACA,cAACC,EAAD,CAAMC,KAAM,EAAGC,GAAI,GAAIC,MAAI,IAC3B,cAACH,EAAD,CAAMC,KAAM,GAAIC,GAAI,GAAIE,OAAK,OAIjC,SAASJ,EAAT,GAGE,IAHwC,IAA1BC,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,GACdP,EAAY,CAAC,iBADoB,EAAfQ,MACqB,OADN,EAATC,OACgC,SAASC,OAAOC,SAASC,KAAK,KACtFC,EAAO,GACJC,EAAIR,EAAMQ,GAAKP,EAAIO,IAC1BD,EAAKE,KAAKD,GAGZ,OAAO,qBAAKd,UAAWA,EAAhB,SACJa,EAAKG,KAAI,SAACC,EAAKC,GAAN,OAAc,cAACC,EAAD,CAAKF,IAAKA,GAAUC,QAIhD,SAASC,EAAT,GAAuB,IAARF,EAAO,EAAPA,IACPjB,EAAS,kBAAciB,GAC7B,OAAO,qBAAKjB,UAAU,gBAAf,SACL,qBAAKA,UAAWA,MAIpB,SAASI,IACP,MAA8BgB,IAAMC,UAAS,GAA7C,mBAAOC,EAAP,KAAgBC,EAAhB,KACMC,EAAaJ,IAAMK,QAAQ,GAC3BC,EAAYN,IAAMK,QAAQ,GAC1BE,EAAMP,IAAMK,OAAO,MAEzBL,IAAMQ,WAAU,WACd,IAAMC,EAAM,IAAIC,KACVb,EAAMY,EAAIE,UAYVC,EAAS,GAHU,SAACf,GACxB,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAGA,GAEXgB,CAXN,IAAIH,KAAKD,EAAIK,cAAeL,EAAIM,WAAY,GAWfC,UACrCC,EAAK,0BAAsB,GAAKL,EAA3B,OACXL,EAAIW,QAAQC,aAAa,QAASF,GAElCG,YAAW,WACT,IAAMC,EAAgBC,SAASC,cAAT,eAA+B1B,IACnCyB,SAASC,cAAT,eAA+BC,KAAKC,IAAI,EAAG5B,EAAM,KACzD6B,eAAe,CAAEC,SAAU,WACrCN,EAAcO,UAAUC,IAAI,YAC3B,OACF,IAEH,IAwBMjD,EAAY,CAAC,WAAYsB,GAAW,WAAWZ,OAAOC,SAASC,KAAK,KAE1E,OAAO,qBACLe,IAAKA,EACLuB,YAdW,SAACC,GACZ,GAAK7B,EAAL,CAGA,IAAM8B,EAAOD,EAAEE,QAAU3B,EAAUY,QAC7BD,EAAK,0BAAsB,GAAKe,EAA3B,OACXzB,EAAIW,QAAQC,aAAa,QAASF,KASlCrC,UAAWA,EACXsD,YA9BqB,SAACH,GACtB3B,EAAWc,QAAUE,YAAW,WAC9BjB,GAAW,GACXG,EAAUY,QAAUa,EAAEE,UACrB,MA2BHE,UAxBU,WACN/B,EAAWc,SACbkB,OAAOC,aAAajC,EAAWc,SAEjCf,GAAW,IAeN,SAHM,0DASLmC,MAAM,KAAK1C,KAAI,SAACC,EAAKC,GAAN,OAAc,cAACyC,EAAD,CAAc1C,IAAKA,GAAUC,QAIpE,SAASyC,EAAT,GAAgC,IACxB3D,EAAY,CAAC,kBADU,EAAPiB,KACqBL,KAAK,KAChD,OAAO,qBAAKZ,UAAU,gBAAf,SACL,qBAAKA,UAAWA,MAIL4D,MA9Gf,WACE,OAAO,mCACL,cAAC7D,EAAD,OCDJ8D,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrB,SAASsB,eAAe,U","file":"static/js/main.c7b645e1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/naptar.c373ebed.png\";","import React from 'react';\nimport './App.css';\nimport calendar from './assets/naptar.png';\n\nfunction App() {\n  return <>\n    <Calendar />\n  </>;\n}\n\nfunction Calendar() {\n  return <div className=\"calendar blue\">\n    <img src={calendar} alt=\"calendar\"/>\n    <div className=\"gap\" />\n    <DaysOfWeek />\n    <Days from={1} to={14} left />\n    <Days from={15} to={31} right />\n  </div>;\n}\n\nfunction Days({ from, to, left, right }) {\n  const className = ['days-container', left && 'left', right && 'right'].filter(Boolean).join(' ');\n  const days = [];\n  for (let i = from; i <= to; i++) {\n    days.push(i);\n  }\n\n  return <div className={className}>\n    {days.map((day, key) => <Day day={day} key={key} />)}\n  </div>;\n}\n\nfunction Day({ day }) {\n  const className = `day day-${day}`;\n  return <div className=\"day-container\">\n    <div className={className} />\n  </div>;\n}\n\nfunction DaysOfWeek() {\n  const [holding, setHolding] = React.useState(false);\n  const timeoutRef = React.useRef(-1);\n  const originalY = React.useRef(-1);\n  const ref = React.useRef(null);\n\n  React.useEffect(() => {\n    const now = new Date();\n    const day = now.getDate();\n    const first = new Date(now.getFullYear(), now.getMonth(), 1);\n    // V 0 --> 1\n    // H 1 --> 0\n    // T 2 --> 6\n    // W 3 --> 5\n    // T 4 --> 4\n    // F 5 --> 3\n    // S 6 --> 2\n    const getShiftForFirst = (day) => {\n      return [1, 0, 6, 5, 4, 3, 2][day];\n    }\n    const height = 60 * getShiftForFirst(first.getDay());\n    const style = `top: calc(66% - ${16 - height}px)`;\n    ref.current.setAttribute('style', style);\n\n    setTimeout(() => {\n      const currentDayDiv = document.querySelector(`.day-${day}`);\n      const scrollDiv = document.querySelector(`.day-${Math.max(1, day - 2)}`);\n      scrollDiv.scrollIntoView({ behavior: 'smooth' });\n      currentDayDiv.classList.add('appear');\n    }, 400);\n  }, []);\n\n  const longClickStart = (e) => {\n    timeoutRef.current = setTimeout(() => {\n      setHolding(true);\n      originalY.current = e.clientY;\n    }, 400);\n  };\n\n  const end = () => {\n    if (timeoutRef.current) {\n      window.clearTimeout(timeoutRef.current);\n    }\n    setHolding(false);\n  };\n\n  const move = (e) => {\n    if (!holding) {\n      return;\n    }\n    const diff = e.clientY - originalY.current;\n    const style = `top: calc(66% - ${16 - diff}px)`;\n    ref.current.setAttribute('style', style);\n  };\n\n  const days = 'K,SZ,CS,P,SZ,V,H,K,SZ,CS,P,SZ,V,H,K,SZ,CS,P,SZ,V,H,K,SZ';\n  const className = ['days-bar', holding && 'holding'].filter(Boolean).join(' ');\n\n  return <div\n    ref={ref}\n    onMouseMove={move}\n    className={className}\n    onMouseDown={longClickStart}\n    onMouseUp={end}>\n    {days.split(',').map((day, key) => <DayOfTheWeek day={day} key={key} />)}\n  </div>;\n}\n\nfunction DayOfTheWeek({ day }) {\n  const className = ['day-of-the-week', day].join(' ');\n  return <div className=\"dow-container\">\n    <div className={className} />\n  </div>;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}